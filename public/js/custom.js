$("#create_blog").validate({rules:{category_id:{required:!0},title:{required:!0},description:{required:!0},image:{required:!0}},messages:{category_id:{required:"Category Required"},title:{required:"Title Required"},description:{required:"description Required"},image:{required:"Image Required"}}}),$("#edit_blog1").validate({rules:{category_id:{required:!0},title:{required:!0},description:{required:!0}},messages:{category_id:{required:"Category Required"},title:{required:"Title Required"},description:{required:"description Required"}}}),$("#comment-form").validate({rules:{comment:{required:!0},messages:{comment:{required:"This field is required"}}}}),$("body").on("click",".like",(function(){var e=$(".like").attr("id");$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('blog.like') }}",method:"POST",data:{_token:"{{ csrf_token() }}",id:e},success:function(e){1==e.status?$(".like").addClass("red"):$(".like").removeClass("red")}})})),$("body").on("submit","#comment-form",(function(){var e=$("#comment").val();blog_id="{{ $view->id }}",$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('blog.comment') }}",method:"POST",data:{_token:"{{ csrf_token() }}",comment:e,id:blog_id},success:function(e){console.log(e)}})})),$("body").on("click",".delete",(function(){var e=$(this).attr("data-id");$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('blog.delete.comment') }}",method:"POST",data:{_token:"{{ csrf_token() }}",id:e},success:function(e){status,location.reload()}})})),$("body").on("click",".reply",(function(){$(".reply").toggle(),$(this).attr("id");var e=$(this).attr("data-id");blog_id="{{ $view->id }}";var t='<div class="sidebar-item submit-comment">\n                    <div class="content">\n                        <form action="{{ route(\'blog.commentReply\') }}" id="comment_reply_form" method="post">\n                            @csrf\n                            <div class="row">\n                                <div class="col-lg-12">\n                                    <fieldset>\n                                    <textarea name="comment_reply" rows="6" id="comment_reply" placeholder="Type your comment" required></textarea>\n                                    </fieldset>\n                                </div>\n                                <input type="hidden" name="blog_id" value="'+blog_id+'">\n                                <input type="hidden" name="parent_id" value="'+e+'">\n                                <div class="col-lg-12">\n                                    <fieldset>\n                                    <button type="submit" id="reply-submit"  data-id="'+e+'" class="main-button">Submit</button>\n                                    </fieldset>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>';$(this).after(t)})),$("body").on("click","#reply-submit",(function(){var e=$(this).attr("data-id"),t=$("#comment_reply").val();blog_id="{{ $view->id }}",$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('blog.commentReply') }}",method:"POST",data:{_token:"{{ csrf_token() }}",parent_id:e,blog_id,comment:t},success:function(e){}})})),blog_id="{{ $view->id }}",$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('blog.fetch_comment') }}",method:"POST",data:{_token:"{{ csrf_token() }}",blog_id},success:function(e){console.log(e.data),1==e.status&&$("#display_comment").html(e.data)}}),$("#email").validate({rules:{email:{required:!0},messages:{email:{required:"email is required "}}},submitHandler:function(e){$(".submit").html("Please Wait"),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{route('user.getEmail')}}",method:"POST",data:new FormData(e),contentType:!1,cache:!1,processData:!1,dataType:"JSON",success:function(e){1==e.status?($(".submit").html("Send Otp"),alert(e.message),window.location.href="get_otp/"+e.data.id):alert(e.message)}})}}),$("#category").on("change",(function(){var e=$(this).val();$.ajax({url:"{{ route('getcat') }}",method:"GET",data:{catId:e},dataType:"JSON",success:function(e){$.each(e.data,(function(e,t){$("#subcategory").append('<option value="'+t.id+'">'+t.subcategory_name+"</option>")}))}})})),$("#register_form").validate({rules:{firstname:{required:!0},lastname:{required:!0},email:{required:!0},category:{required:!0},subcategory:{required:!0},password:{required:!0},profile:{required:!0}},messages:{firstname:{required:"Firstname is required "},lastname:{required:"Lastname is required"},email:{required:"Email is required"},category:{required:"Category is required"},subcategory:{required:"SubCategory is required"},password:{required:"Password is required"},profile:{required:"Profile is required"}},submitHandler:function(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('store') }}",method:"POST",data:new FormData(e),contentType:!1,cache:!1,processData:!1,dataType:"JSON",success:function(e){window.location.href="verify_register_user/"+e.id},error:function(e){var t=e.responseJSON.errors;$.each(t,(function(e,t){toastr.error(t)}))}})}}),$("#category").on("change",(function(){var e=$(this).val();$.ajax({url:"{{ route('getcat') }}",method:"GET",data:{catId:e},dataType:"JSON",success:function(e){$.each(e.data,(function(e,t){$("#subcategory").append('<option value="'+t.id+'">'+t.subcategory_name+"</option>")}))}})})),$("#register_form").validate({rules:{firstname:{required:!0},lastname:{required:!0},email:{required:!0},category:{required:!0},subcategory:{required:!0},password:{required:!0},profile:{required:!0}},messages:{firstname:{required:"Firstname is required "},lastname:{required:"Lastname is required"},email:{required:"Email is required"},category:{required:"Category is required"},subcategory:{required:"SubCategory is required"},password:{required:"Password is required"},profile:{required:"Profile is required"}},submitHandler:function(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('store') }}",method:"POST",data:new FormData(e),contentType:!1,cache:!1,processData:!1,dataType:"JSON",success:function(e){window.location.href="verify_register_user/"+e.id},error:function(e){var t=e.responseJSON.errors;$.each(t,(function(e,t){toastr.error(t)}))}})}}),$("#reset").validate({rules:{pass:{required:!0},cpass:{required:!0,equalTo:"#pass"}},messages:{pass:{required:"please Enter Passwoord "},cpass:{required:"Please Enter Confirm Password",equalTo:"Confirm Password must be same as Password"}},submitHandler:function(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('user.confirm_pass') }}",method:"POST",data:new FormData(e),contentType:!1,cache:!1,processData:!1,dataType:"JSON",success:function(e){1==e.status&&alert(e.message),window.location.href="/user/login"}})}}),$("#update_form").validate({rules:{firstname:{required:!0},lastname:{required:!0},email:{required:!0},category:{required:!0},subcategory:{required:!0},password:{required:!0}},messages:{firstname:{required:"Firstname is required "},lastname:{required:"Lastname is required"},email:{required:"Email is required"},category:{required:"Category is required"},subcategory:{required:"SubCategory is required"},password:{required:"Password is required"}},submitHandler:function(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('update') }}",method:"POST",data:new FormData(e),contentType:!1,cache:!1,processData:!1,dataType:"JSON",success:function(e){alert(e.message),window.location.href="/dashboard"},error:function(e){var t=e.responseJSON.errors;$.each(t,(function(e,t){toastr.error(t)}))}})}}),$(".update").on("click",(function(){var e=$(this).attr("id");$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('edit') }}",method:"post",data:{_token:"{{ csrf_token() }}",id:e},dataType:"JSON",success:function(e){$("#id").val(e.data.user.id),$("#firstname").val(e.data.user.firstname),$("#lastname").val(e.data.user.lastname),$("#email").val(e.data.user.email),$("#category").html(""),$.each(e.data.Category,(function(t,r){selectdata=r.id==e.data.user.category_id?"selected":"",$("#category").append('<option value="'+r.id+'" '+selectdata+">"+r.category_name+"</option>")})),$("#subcategory").html(""),console.log(e.data.subcategory),$.each(e.data.subcategory,(function(t,r){selectdata=r.id==e.data.user.subcategory_id?"selected":"",$("#subcategory").append('<option value="'+r.id+'"'+selectdata+">"+r.subcategory_name+"</option>")})),""==e.data.user.profile?$("#profile").html('<img src="images/default/default.jpg" height="50px" width="50px" />'):$("#profile").html('<img src="/images/'+e.data.user.profile+'"height="50px" width="50px"/>')}})})),$("body").on("change","#category",(function(){var e=$(this).val();$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('getsubcategory') }}",method:"post",data:{id:e},dataType:"JSON",success:function(e){$("#subcategory").html(""),1==e.status&&$.each(e.data,(function(e,t){$("#subcategory").append('<option value="'+t.id+'">'+t.subcategory_name+"</option>")}))}})})),$("#otp").validate({rules:{otp:{required:!0}},messages:{otp:{required:"Please enter otp first"}},submitHandler:function(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"{{ route('otp_verify') }}",method:"POST",data:new FormData(e),contentType:!1,cache:!1,processData:!1,dataType:"JSON",success:function(e){1==e.status?(alert(e.message),window.location.href="/home"):alert(e.message)}})}});